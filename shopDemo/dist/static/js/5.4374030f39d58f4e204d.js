webpackJsonp([5],{glvd:function(t,s){},vtsS:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("Dd8w"),a=i.n(e),n=i("NYxO"),h=i("Au9i"),c=(a()({},Object(n.b)({shopCartlist:function(t){return t.shop.shopCartlist},PaymentList:function(t){return t.shop.PaymentList}}),{totalPrices:function(){if(this.PaymentList.length>=0){this.prices=0;for(var t=0;t<this.PaymentList.length;t++)this.prices+=this.PaymentList[t].num*this.PaymentList[t].price}return this.prices},allCheck:function(){if(0==this.shopCartlist.length)return!1;for(var t=0;t<this.shopCartlist.length;t++)if(!this.shopCartlist[t].checkStatus)return!1;return!0}}),{data:function(){return{prices:0,name:!1}},computed:a()({},Object(n.b)({shopCartlist:function(t){return t.shop.shopCartlist},PaymentList:function(t){return t.shop.PaymentList}}),{totalPrices:function(){if(this.PaymentList.length>=0){this.prices=0;for(var t=0;t<this.PaymentList.length;t++)this.prices+=this.PaymentList[t].num*this.PaymentList[t].price}return this.prices},allCheck:function(){if(0==this.shopCartlist.length)return!1;for(var t=0;t<this.shopCartlist.length;t++)if(!this.shopCartlist[t].checkStatus)return!1;return!0}}),methods:{changeName:function(t){1==t.checkStatus?(t.checkStatus=!t.checkStatus,this.removePay(t)):0==t.checkStatus&&(t.checkStatus=!t.checkStatus,this.$store.commit("addPaylist",t)),console.log(this.PaymentList)},removeCart:function(t){for(var s=0;s<this.PaymentList.length;s++)this.PaymentList[s].id==this.shopCartlist[t].id&&this.$set(this.PaymentList,this.PaymentList.splice(s,1));this.shopCartlist=this.$set(this.shopCartlist,this.shopCartlist.splice(t,1))},removePay:function(t){for(var s=0;s<this.PaymentList.length;s++)if(t.id==this.PaymentList[s].id)return void this.$set(this.PaymentList,this.PaymentList.splice(s,1))},plus:function(t){for(var s=0;s<this.shopCartlist.length;s++)this.shopCartlist[s].id==t&&(this.shopCartlist[s].num++,this.$store.commit("addCartlist",this.shopCartlist[s]))},minus:function(t){for(var s=0;s<this.shopCartlist.length;s++)this.shopCartlist[s].id==t&&this.shopCartlist[s].num>1&&(this.shopCartlist[s].num--,this.$store.commit("addCartlist",this.shopCartlist[s]))},checkfun:function(t){for(var s=0;s<this.PaymentList.length;s++)t.id==this.PaymentList.id?this.name=!0:this.name=!1},allCheckStatus:function(){if(0!=this.shopCartlist.length)if(1==this.allCheck){for(var t=0;t<this.shopCartlist.length;t++)this.shopCartlist[t].checkStatus=!1,this.removePay(this.shopCartlist[t]);console.log(this.PaymentList)}else if(0==this.allCheck){for(t=0;t<this.shopCartlist.length;t++)this.shopCartlist[t].checkStatus||(this.shopCartlist[t].checkStatus=!0,this.$store.commit("addPaylist",this.shopCartlist[t]));console.log(this.PaymentList)}},payFun:function(){var t=this;0!==this.PaymentList.length?h.MessageBox.confirm("",{title:"提示",message:"确认购买共:"+this.totalPrices+"元",showConfirmButton:!0,showCancelButton:!0,cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",confirmButtonText:"购买",cancelButtonText:"暂不"}).then(function(){h.MessageBox.alert("购买成功");for(var s=0;s<t.shopCartlist.length;s++)t.shopCartlist[s].checkStatus&&(t.$set(t.shopCartlist,t.shopCartlist.splice(s,1)),t.$store.commit("addOrderList",t.PaymentList[s]));for(s=0;s<t.PaymentList.length;s++)t.PaymentList[s].checkStatus&&t.$set(t.PaymentList,t.PaymentList.splice(s,1))}):Object(h.MessageBox)("提示","请先选购商品!")}}}),r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticStyle:{width:"100%"}},[i("mt-header",{attrs:{title:"购物车",fixed:""}}),t._v(" "),i("div",{staticClass:"goods_box"},[i("ul",{staticClass:"goods_list"},t._l(t.shopCartlist,function(s,e){return i("li",{staticClass:"list_li"},[i("icon",{attrs:{name:s.checkStatus?"checked":"check",scale:"2.5"},nativeOn:{click:function(i){t.changeName(s)}}}),t._v(" "),i("div",{staticClass:"list_detail"},[i("img",{attrs:{src:s.img[0]}}),t._v(" "),i("span",[t._v("\n                    "+t._s(s.name)+"\n                  ")])]),t._v(" "),i("div",{staticClass:"price"},[i("span",[t._v("单价:¥ "+t._s(s.price))]),t._v(" "),i("span",[t._v("合价:¥ "+t._s(s.price*s.num))])]),t._v(" "),i("div",{staticClass:"price_make"},[i("icon",{attrs:{name:"minus",scale:"2.5"},nativeOn:{click:function(i){t.minus(s.id)}}}),t._v(" "),i("p",{staticStyle:{"line-height":"4.5rem",float:"left"}},[t._v(t._s(s.num))]),t._v(" "),i("icon",{attrs:{name:"plus",scale:"2.5"},nativeOn:{click:function(i){t.plus(s.id)}}})],1),t._v(" "),i("div",{staticClass:"del_btn",on:{click:function(s){t.removeCart(e)}}},[t._v("删除")])],1)}))]),t._v(" "),i("div",{staticClass:"pay_box"},[i("icon",{staticStyle:{"margin-top":"0.7rem"},attrs:{name:t.allCheck?"checked":"check",scale:"2.5"},nativeOn:{click:function(s){t.allCheckStatus()}}}),t._v(" "),i("span",[t._v("合计:")]),t._v(" "),i("b",[t._v("¥ "+t._s(t.totalPrices))]),t._v(" "),i("div",{staticClass:"pay_btn",on:{click:t.payFun}},[t._v("\n      结 算\n    ")])],1)],1)},staticRenderFns:[]};var o=i("VU/8")(c,r,!1,function(t){i("glvd")},"data-v-34f3202f",null);s.default=o.exports}});
//# sourceMappingURL=5.4374030f39d58f4e204d.js.map